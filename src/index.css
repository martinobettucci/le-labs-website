@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    @apply bg-background text-gray-100 antialiased;
  }
  
  body {
    @apply font-body;
    overflow-x: hidden;
  }
  
  h1, h2, h3, h4, h5, h6 {
    @apply font-heading font-bold;
  }
  
  h1 {
    @apply text-4xl sm:text-5xl md:text-6xl;
  }
  
  h2 {
    @apply text-3xl sm:text-4xl md:text-5xl;
  }
  
  h3 {
    @apply text-2xl sm:text-3xl;
  }
  
  h4 {
    @apply text-xl sm:text-2xl;
  }
  
  a {
    @apply transition-colors duration-200;
  }
  
  code, pre {
    @apply font-mono;
  }
}

@layer components {
  .metro-tile {
    @apply relative overflow-hidden transition-all duration-300 ease-out rounded-sm shadow-lg;
  }
  
  .metro-tile-small {
    @apply metro-tile h-40 w-full;
  }
  
  .metro-tile-medium {
    @apply metro-tile h-60 w-full;
  }
  
  .metro-tile-large {
    @apply metro-tile h-180 w-full;
  }
  
  .metro-tile-wide {
    @apply metro-tile h-48 w-full;
  }
  
  .metro-tile-headline {
    @apply text-sm uppercase tracking-wider font-bold;
  }
  
  .metro-tile-content {
    @apply p-5 h-full flex flex-col justify-between;
  }
  
  .button-primary {
    @apply px-5 py-2 bg-primary hover:bg-primary-dark text-white font-medium transition-colors;
  }
  
  .button-outline {
    @apply px-5 py-2 border-2 border-primary text-primary hover:bg-primary hover:text-white font-medium transition-colors;
  }
  
  /* Page transition styles */
  .page-transition {
    @apply min-h-[calc(100vh-64px)] w-full;
    transform-origin: center center;
    will-change: opacity, transform;
    backface-visibility: hidden;
    transform-style: flat;
  }
  
  /* Disable pointer events only during active animation */
  .page-transition[data-motion-state="animating"] {
    pointer-events: none;
  }
  
  /* Container for page transitions */
  .transition-container {
    overflow: hidden;
    position: relative;
    width: 100%;
  }
  
  /* Ambient light styling */
  .ambient-light-tile {
    @apply relative;
    transition: box-shadow 1.2s ease;
  }
  
  .ambient-light-tile {
    box-shadow: 0 0 48px 4px var(--ambient-color, rgba(255,255,255,0.15));
  }
  
  .ambient-light-tile:hover {
    box-shadow: 0 0 64px 6px var(--ambient-color, rgba(255,255,255,0.25));
  }
  
  /* New animation classes */
  .kaleidoscope-bg {
    @apply relative overflow-hidden;
    background: linear-gradient(45deg, 
      rgba(35, 70, 140, 0.7),
      rgba(35, 140, 51, 0.7),
      rgba(217, 207, 74, 0.7),
      rgba(242, 65, 65, 0.7)
    );
    background-size: 400% 400%;
    animation: gradient-shift 8s ease infinite;
  }
  
  /* Obturator (camera shutter) effect */
  .obturator-open {
    animation: obturator-open 0.5s forwards ease-out;
  }
  
  @keyframes gradient-shift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }
  
  @keyframes obturator-open {
    0% { clip-path: circle(0% at center); }
    100% { clip-path: circle(150% at center); }
  }
  
  /* Rainbow sliding doors effect */
  .rainbow-doors {
    position: relative;
    overflow: hidden;
  }
  
  .rainbow-doors::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, 
      rgba(255,0,0,0.2), 
      rgba(255,165,0,0.2), 
      rgba(255,255,0,0.2), 
      rgba(0,128,0,0.2), 
      rgba(0,0,255,0.2), 
      rgba(75,0,130,0.2), 
      rgba(238,130,238,0.2)
    );
    background-size: 700% 100%;
    animation: rainbow-slide 1s ease-out forwards;
    mix-blend-mode: overlay;
  }
  
  @keyframes rainbow-slide {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(0); }
  }
  
  /* New 3D flipping card styles */
  .perspective-1000 {
    perspective: 1000px;
  }
  
  .preserve-3d {
    transform-style: preserve-3d;
  }
  
  .backface-hidden {
    backface-visibility: hidden;
  }
  
  .rotate-y-180 {
    transform: rotateY(180deg);
  }
}
